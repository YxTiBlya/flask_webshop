{% extends 'layout.html' %}

{% block content %}
<div class="admin_page">
    <div class="items">
        <h1>ITEMS</h1>

        {% with messages = get_flashed_messages() %}
            {% if messages %}
                <ul class=flashes>
                {% for message in messages %}
                    <li><b>{{ message }}</b></li>
                {% endfor %}
                </ul>
            {% else %}
                <h2>ADD</h2>
            {% endif %}
        {% endwith %}

        <form method="POST" action="/add_item" enctype="multipart/form-data">
            <table>
                <tr>
                    <td><input type="text" placeholder="Name" name="name"></td>
                </tr>
                <tr>
                    <td><input type="text" placeholder="Description" name="description"></td>
                </tr>
                <tr>
                    <td>
                        <select name="category" id="category" class="category_del">
                            {% for category in categories %}
                            <option value={{ category.option }}>{{ category.category }}</option>
                            {% endfor %}
                        </select>
                    </td>
                </tr>
                <tr>
                    <td><input type="text" placeholder="Price" name="price"></td>
                </tr>
                <tr>
                    <td><input type="file" name="file" class="def"></td>
                </tr>
                <tr>
                    <td><button class="btn" type="submit">ADD</button></td>
                </tr>
            </table>
        </form>

        <h2>DELETE</h2>
        <form method="POST" action="/del_item">
            <table>
                <select name="item" id="item" class="category_del">
                    {% for item in items %}
                        <option value={{ item.name }}>{{ item.name }}</option>
                    {% endfor %}
                </select>
                <tr>
                    <td><button class="btn" type="submit">DELETE</button></td>
                </tr>
            </table>
        </form>
    </div>
    <div class="categories">
        <h1>CATEGORIES</h1>

        {% with messages = get_flashed_messages() %}
            {% if messages %}
                <ul class=flashes>
                {% for message in messages %}
                    <li><b>{{ message }}</b></li>
                {% endfor %}
                </ul>
            {% else %}
                <h2>ADD</h2>
            {% endif %}
        {% endwith %}

        <form method="POST" action="/add_category">
            <table>
                <tr>
                    <td><input type="text" placeholder="Input category name" name="category"></td>
                </tr>
                <tr>
                    <td><input type="text" placeholder="Input category option" name="category_option"></td>
                </tr>
                <tr>
                    <td><button class="btn" type="submit">ADD</button></td>
                </tr>
            </table>
        </form>

        <h2>DELETE</h2>
        <form method="POST" action="/del_category">
            <table>
                <select name="category" id="category" class="category_del">
                    {% for category in categories %}
                    <option value={{ category.option }}>{{ category.category }}</option>
                    {% endfor %}
                </select>
                <tr>
                    <td><button class="btn" type="submit">DELETE</button></td>
                </tr>
            </table>
        </form>
    </div>
</div>
{% endblock %}